(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[557],{51268:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(85893),a=n(60658),s=(n(67294),n(12152)),c=n.n(s);function o(e){var t=e.accountId,n=e.className,s=e.image;if(!t)return null;var o=(0,a.toDataUrl)(t);return(0,r.jsx)("img",{className:"".concat(n||""," ").concat(c().blockies," "),src:s||o,alt:"Blockies","aria-hidden":"true"})}},40283:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Pe}});var r=n(34051),a=n.n(r),s=n(85893),c=n(67294),o=n(53233),i=n(4210),u=n(76110),l=n(60417),d=n(23307),f=n(7810),p=n(44247),v=n.n(p),m=n(51916),h=n(83372),x=n(71132);function _(e,t,n,r,a,s,c){try{var o=e[s](c),i=o.value}catch(u){return void n(u)}o.done?t(i):Promise.resolve(i).then(r,a)}function b(e){var t=e.accountId,n=(0,x.c8)().appConfig,r=(0,f.o)().chainIds,o=(0,c.useState)(),i=o[0],p=o[1],b=(0,c.useState)(!1),g=b[0],k=b[1],j=(0,c.useState)(1),w=j[0],y=j[1],I=(0,c.useState)(),N=I[0],P=I[1],E=(0,c.useState)(),S=E[0],C=E[1],Z=(0,m.U)(),F=(0,c.useCallback)(function(){var e,t=(e=a().mark((function e(t,n,r,s,c,o){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,(0,d.eg)(t.toLowerCase(),n,o,r,s,c);case 4:i=e.sent,p(i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.KF.error(e.t0.message);case 11:return e.prev=11,k(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){_(s,r,a,c,o,"next",e)}function o(e){_(s,r,a,c,o,"throw",e)}c(void 0)}))});return function(e,n,r,a,s,c){return t.apply(this,arguments)}}(),[]);return(0,c.useEffect)((function(){i&&i.totalPages<w&&y(1)}),[w,i]),(0,c.useEffect)((function(){t&&F(t,r,w,N,S,Z())}),[t,w,null===n||void 0===n?void 0:n.metadataCacheUri,r,Z,F,N,S]),t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{serviceType:N,setServiceType:P,accessType:S,setAccessType:C,className:v().filters}),(0,s.jsx)(l.Z,{assets:null===i||void 0===i?void 0:i.results,isLoading:g,showPagination:!0,page:null===i||void 0===i?void 0:i.page,totalPages:null===i||void 0===i?void 0:i.totalPages,onPageChange:function(e){y(e)},className:v().assets,noPublisher:!0})]}):(0,s.jsx)("div",{children:"Please connect your Web3 wallet."})}var g=n(55111),k=n(52327),j=n(3266),w=n(65450),y=n(51781),I=n(7390),N=n(9669),P=n.n(N),E=n(71273),S=n(3283),C=n.n(S);function Z(e,t,n,r,a,s,c){try{var o=e[s](c),i=o.value}catch(u){return void n(u)}o.done?t(i):Promise.resolve(i).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){Z(s,r,a,c,o,"next",e)}function o(e){Z(s,r,a,c,o,"throw",e)}c(void 0)}))}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){T(e,t,n[t])}))}return e}var U=(0,c.createContext)({});var A=function(){return(0,c.useContext)(U)},L=function(e){var t=e.accountId,n=e.accountEns,r=e.children,o=(0,f.o)().chainIds,i=(0,x.c8)().appConfig,l=(0,c.useState)(),p=l[0],v=l[1];(0,c.useEffect)((function(){var e=C().utils.isAddress(t);v(e)}),[t]);var m=(0,c.useState)(),h=m[0],_=m[1];(0,c.useEffect)((function(){n&&u.KF.log("[profile] ENS name found for ".concat(t,":"),n)}),[t,n]),(0,c.useEffect)((function(){if(t&&p){var e=P().CancelToken.source();return function(){r.apply(this,arguments)}(),function(){e.cancel()}}function r(){return(r=F(a().mark((function r(){var s,c,o,i,l,d,f,p;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return _({name:n||(0,I.XC)(t),accountEns:n}),r.next=3,(0,E.Z)(t,e.token);case 3:(s=r.sent)?(c=s.name,o=s.emoji,i=s.description,l=s.image,d=s.links,f="".concat(o||""," ").concat(c||(0,I.XC)(t)),p={name:f,image:l,description:i,links:d},_((function(e){return H({},e,p)})),u.KF.log("[profile] Found and set 3box profile.",p)):u.KF.log("[profile] No 3box profile found.");case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}_({name:null,accountEns:null,image:null,description:null,links:null})}),[t,n,p]);var b=(0,c.useState)(),g=b[0],k=b[1],j=(0,c.useState)(0),w=j[0],N=j[1];(0,c.useEffect)((function(){if(t&&p){var e=P().CancelToken.source();return function(){n.apply(this,arguments)}(),function(){e.cancel()}}function n(){return(n=F(a().mark((function n(){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,d.eg)(t,o,e.token);case 3:r=n.sent,k(r.results),N(r.totalResults),u.KF.log("[profile] Fetched ".concat(r.totalResults," assets."),r.results),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),u.KF.error(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}}),[t,i.metadataCacheUri,o,p]);var S=(0,c.useState)(),Z=S[0],T=S[1],A=(0,c.useState)(0),L=A[0],O=A[1],K=(0,c.useState)(),R=K[0],D=K[1],W=(0,c.useState)(),B=W[0],z=W[1],J=(0,c.useCallback)(function(){var e=F(a().mark((function e(n){var r,s,c,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&o){e.next=2;break}return e.abrupt("return");case 2:return r=[],e.next=5,(0,y.xM)(t,o);case 5:for(s=e.sent,c=0;c<(null===s||void 0===s?void 0:s.length);c++)r.push(s[c].datatoken.address);return e.next=9,(0,d.gc)(r,s,o,n);case 9:i=e.sent,T(i),O(i.length),u.KF.log("[profile] Fetched ".concat(i.length," download orders."),i);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,o]);(0,c.useEffect)((function(){var e=P().CancelToken.source();function t(){return(t=F(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===i||void 0===i?void 0:i.metadataCacheUri){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,D(!0),t.next=6,J(e.token);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),u.KF.log(t.t0.message);case 11:return t.prev=11,D(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})))).apply(this,arguments)}if(function(){t.apply(this,arguments)}(),!B){var n=setInterval(F(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e.token);case 2:case"end":return t.stop()}}),t)}))),1e4);return z(n),function(){e.cancel(),clearInterval(B)}}}),[J,i.metadataCacheUri,B]);var X=(0,c.useState)(0),G=X[0],M=X[1];return(0,c.useEffect)((function(){function e(){return(e=F(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.mN)(t,o);case 3:n=e.sent,M(n),u.KF.log("[profile] Fetched sales number: ".concat(n,"."),n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.KF.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}t&&0!==o.length?function(){e.apply(this,arguments)}():M(0)}),[t,o]),(0,s.jsx)(U.Provider,{value:{profile:h,assets:g,assetsTotal:w,isEthAddress:p,downloads:Z,downloadsTotal:L,isDownloadsLoading:R,sales:G},children:r})},O=[{name:"Dataset",selector:function(e){return(0,s.jsx)(j.Z,{asset:e.asset})}},{name:"Network",selector:function(e){return(0,s.jsx)(w.Z,{networkId:e.networkId})}},{name:"Datatoken",selector:function(e){return e.dtSymbol}},{name:"Time",selector:function(e){return(0,s.jsx)(k.Z,{date:e.timestamp.toString(),relative:!0,isUnix:!0})}}];function K(e){var t=e.accountId,n=A(),r=n.downloads,a=n.isDownloadsLoading,c=(0,f.o)().chainIds;return t?(0,s.jsx)(g.Z,{columns:O,data:r,paginationPerPage:10,isLoading:a,emptyMessage:0===c.length?"No network selected":null}):(0,s.jsx)("div",{children:"Please connect your Web3 wallet."})}var R=n(11997),D=n(61470),W=n.n(D),B=n(13674);function z(e){var t=e.accountIdentifier,n=(0,B.$6)().accountId,r=new URL(location.href).searchParams.get("defaultTab"),a=function(e,t){var n=[{title:"Published",content:(0,s.jsx)(b,{accountId:e})},{title:"Downloads",content:(0,s.jsx)(K,{accountId:e})}],r={title:"Compute Jobs",content:(0,s.jsx)(R.Z,{})};return e===t&&n.push(r),n}(t,n),c=0;return c="ComputeJobs"===r?4:0,(0,s.jsx)(i.Z,{items:a,className:W().tabs,defaultIndex:c})}var J=n(47166),X=n.n(J),G=n(38798),M=n(22559),q=n.n(M);var $=X().bind(q());function Q(e){var t,n,r,a,c=e.className,o=A().profile,i=$((a=c,(r=c)in(n={links:!0})?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n));return(0,s.jsxs)("div",{className:i,children:[" \u2014 ",null===o||void 0===o||null===(t=o.links)||void 0===t?void 0:t.map((function(e){var t="Twitter"===e.name?"https://twitter.com/".concat(e.value):"GitHub"===e.name?"https://github.com/".concat(e.value):e.value.includes("http")?e.value:"//".concat(e.value);return(0,s.jsxs)("a",{href:t,target:"_blank",rel:"noreferrer",children:[e.name," ",(0,s.jsx)(G.Z,{className:q().linksExternal})]},e.name)}))]})}var V=n(36582),Y=n(71323),ee=n(35073),te=n(55657),ne=n.n(te);function re(e){var t=e.small,n=e.label,r=e.value,a=e.icon,c=e.tooltip;return(0,s.jsxs)("div",{className:ne().unit,children:[(0,s.jsx)("div",{className:"".concat(ne().number," ").concat(t&&ne().small),children:(0,s.jsxs)(s.Fragment,{children:[a&&a,r]})}),(0,s.jsxs)("span",{className:ne().label,children:[n," ",c&&(0,s.jsx)(ee.Z,{content:(0,s.jsx)(V.Z,{text:c}),className:ne().tooltip})]})]})}var ae=n(7981),se=n.n(ae),ce=n(26621);function oe(e,t,n,r,a,s,c){try{var o=e[s](c),i=o.value}catch(u){return void n(u)}o.done?t(i):Promise.resolve(i).then(r,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){oe(s,r,a,c,o,"next",e)}function o(e){oe(s,r,a,c,o,"throw",e)}c(void 0)}))}}function ue(e){var t=e.accountId,n=(0,f.o)().chainIds,r=A(),o=r.assets,i=r.assetsTotal,l=r.sales,d=(0,c.useState)("0"),p=d[0],v=d[1];return(0,c.useEffect)((function(){function e(){return(e=ie(a().mark((function e(){var t,n,r,s,c,i,l,d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ce.K1)(o);case 3:for(t=e.sent,n=0,r=!0,s=!1,c=void 0,e.prev=6,i=t[Symbol.iterator]();!(r=(l=i.next()).done);r=!0)(null===(d=l.value)||void 0===d||null===(f=d.accessDetails)||void 0===f?void 0:f.price)&&d.stats.orders>0&&(n+=parseInt(d.accessDetails.price)*d.stats.orders);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),s=!0,c=e.t0;case 14:e.prev=14,e.prev=15,r||null==i.return||i.return();case 17:if(e.prev=17,!s){e.next=20;break}throw c;case 20:return e.finish(17);case 21:return e.finish(14);case 22:v(JSON.stringify(n)),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(0),u.KF.error(e.t1.message);case 28:case"end":return e.stop()}}),e,null,[[0,25],[6,10,14,22],[15,,17,21]])})))).apply(this,arguments)}o&&t&&n&&function(){e.apply(this,arguments)}()}),[o,t,n]),(0,s.jsxs)("div",{className:se().stats,children:[(0,s.jsx)(re,{label:"Total Sales",value:(0,s.jsx)(Y.Z,{price:p,symbol:"ocean",hideApproximateSymbol:!0})}),(0,s.jsx)(re,{label:"Sale".concat(1===l?"":"s"),value:l}),(0,s.jsx)(re,{label:"Published",value:i})]})}var le=n(98056),de=n(457),fe=n(22507),pe=n(51268),ve=n(27308),me=n.n(ve);function he(e){var t=e.accountId,n=(0,f.o)().chainIds,r=A().profile;return(0,s.jsxs)("div",{className:me().account,children:[(0,s.jsx)("figure",{className:me().imageWrap,children:(null===r||void 0===r?void 0:r.image)?(0,s.jsx)("img",{src:null===r||void 0===r?void 0:r.image,className:me().image,width:"96",height:"96"}):t?(0,s.jsx)(pe.Z,{accountId:t,className:me().image}):(0,s.jsx)(de.Z,{className:me().image})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:me().name,children:null===r||void 0===r?void 0:r.name}),t&&(0,s.jsxs)("code",{className:me().accountId,title:(null===r||void 0===r?void 0:r.accountEns)?t:null,children:[(null===r||void 0===r?void 0:r.accountEns)||t," ",(0,s.jsx)(fe.Z,{text:t})]}),(0,s.jsx)("p",{children:t&&n.map((function(e){return(0,s.jsx)(le.Z,{className:me().explorer,networkId:e,path:"address/".concat(t),children:(0,s.jsx)(w.Z,{networkId:e})},e)}))})]})]})}var xe=n(78658),_e=n.n(xe),be=function(){var e=document.getElementById("description");if(e)return e.scrollHeight>e.clientHeight},ge=function(e){var t=e.url,n=e.text;return(0,s.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:n})};function ke(e){var t,n=e.accountId,r=A().profile,a=(0,c.useState)(!1),o=a[0],i=a[1];return(0,s.jsxs)("div",{className:_e().grid,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(he,{accountId:n}),(0,s.jsx)(ue,{accountId:n})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(V.Z,{text:null===r||void 0===r?void 0:r.description,className:_e().description}),be()?(0,s.jsx)("span",{className:_e().more,onClick:function(){i(!o)},children:(0,s.jsx)(ge,{url:"https://www.3box.io/".concat(n),text:"Read more on 3box"})}):"",(null===r||void 0===r||null===(t=r.links)||void 0===t?void 0:t.length)>0&&(0,s.jsx)(Q,{className:_e().publisherLinks})]}),(0,s.jsxs)("div",{className:_e().meta,children:["Profile data from"," ",(null===r||void 0===r?void 0:r.accountEns)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ge,{url:"https://app.ens.domains/name/".concat(r.accountEns),text:"ENS"})," ","&"," "]}),(0,s.jsx)(ge,{url:"https://www.3box.io/".concat(n),text:"3Box Hub"})]})]})}function je(e){var t=e.accountId;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ke,{accountId:t}),(0,s.jsx)(z,{accountIdentifier:t})]})}var we=n(26473),ye=n(11163);function Ie(e,t,n,r,a,s,c){try{var o=e[s](c),i=o.value}catch(u){return void n(u)}o.done?t(i):Promise.resolve(i).then(r,a)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){Ie(s,r,a,c,o,"next",e)}function o(e){Ie(s,r,a,c,o,"throw",e)}c(void 0)}))}}function Pe(){var e=(0,ye.useRouter)(),t=(0,B.$6)(),n=t.accountId,r=t.accountEns,i=(0,c.useState)(),u=i[0],l=i[1],d=(0,c.useState)(),f=d[0],p=d[1];return(0,c.useEffect)((function(){function t(){return(t=Ne(a().mark((function t(){var s,c,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e||void 0===e?void 0:e.asPath){t.next=2;break}return t.abrupt("return");case 2:if("/profile"!==e.asPath){t.next=6;break}return p(r),l(n),t.abrupt("return");case 6:if(s=e.query.account,!C().utils.isAddress(s)){t.next=18;break}return l(c=s||n),t.next=12,(0,we.w)(c);case 12:if(o=t.sent){t.next=15;break}return t.abrupt("return");case 15:p(o),t.next=23;break;case 18:return p(s),t.next=21,(0,we.O)(s);case 21:i=t.sent,l(i);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,n,r]),(0,c.useEffect)((function(){if(f&&"/profile"!==e.asPath){var t="/profile/".concat(f);t!==e.asPath&&e.replace(t)}}),[e,f,n]),(0,s.jsx)(o.Z,{uri:e.route,title:(0,I.XC)(u),noPageHeader:!0,children:(0,s.jsx)(L,{accountId:u,accountEns:f,children:(0,s.jsx)(je,{accountId:u})})})}},12152:function(e){e.exports={blockies:"Blockies_blockies__fd5M0"}},27308:function(e){e.exports={account:"Account_account__77IRh",imageWrap:"Account_imageWrap__AmamZ",image:"Account_image__pSSZI",name:"Account_name__IqRxF",accountId:"Account_accountId__UStWO",explorer:"Account_explorer__wLzWx"}},55657:function(e){e.exports={number:"NumberUnit_number__EeLNT",small:"NumberUnit_small__5wF_V",label:"NumberUnit_label__yRnR7",unit:"NumberUnit_unit__ITl6k",tooltip:"NumberUnit_tooltip___BdUz"}},22559:function(e){e.exports={links:"PublisherLinks_links__AKY_0",linksExternal:"PublisherLinks_linksExternal__odjzj Publisher_linksExternal__mmI_E"}},7981:function(e){e.exports={stats:"Stats_stats___WE2_"}},78658:function(e){e.exports={grid:"Header_grid__xI_Sd Box_box__l77_J",description:"Header_description__8tHAG",publisherLinks:"Header_publisherLinks__7z_E0",more:"Header_more__IWrae",meta:"Header_meta___r1R_"}},44247:function(e){e.exports={filters:"PublishedList_filters__iXu2H",assets:"PublishedList_assets__DRuiO"}},61470:function(e){e.exports={grid:"History_grid__HmQlj",sticky:"History_sticky__G9AU6",tabs:"History_tabs__ORDwT"}}}]);